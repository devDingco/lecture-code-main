<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>나만의 fetch 만들기</title>
    <script>
      const myfetch = (API엔드포인트) => {
        return new Promise((resolve, reject) => {
          const qq = new XMLHttpRequest();
          qq.open("get", API엔드포인트);
          qq.send();
          qq.addEventListener("load", (res) => {
            resolve(res.target.response);
          });
        });
      };

      const onClickFetch = async () => {
        // 1. await로 받기
        // const result = await fetch("http://main-example.codebootcamp.co.kr/profile/철수")
        const result = await myfetch(
          "http://main-example.codebootcamp.co.kr/profile/철수"
        );
        console.log(result);

        // 2. .then()으로 받기
        myfetch("http://main-example.codebootcamp.co.kr/profile/철수").then(
          (result) => {
            console.log(result);
          }
        );
      };
    </script>
  </head>
  <body>
    <button onclick="onClickFetch()">프로필 조회하기</button>
  </body>
</html>
